#mystock02

자동매매 프로젝트 초기 설정용 README 입니다.

## 실행 방법
1. 저장소 루트(이 README가 있는 폴더)에서 가상환경을 활성화하고 의존성을 설치합니다.
   - `pip install -r requirements.txt` (PyQt5가 없다면 `pip install pyqt5`)
2. GUI 실행
   - 기본: `python -m src.gui_main`
   - 위 명령이 환경에 따라 `ModuleNotFoundError: No module named 'src'` 로 실패한다면 `python run_gui.py` 를 사용하세요. 이 스크립트는 저장소 루트를 PYTHONPATH에 자동으로 추가합니다.

### GUI 주요 기능
- **연동 설정**: App Key/Secret/계좌번호를 대화상자에서 수정하고 모의/실거래 로그인 테스트를 수행합니다. 환경변수에서 다시 불러올 수도 있습니다.
- **조건식 선택**: `조건 새로고침`으로 더미 조건식을 불러와 콤보박스에서 선택하거나, 직접 입력란을 사용할 수 있습니다.
  - 실제 키움 조건검색(0150)에 저장된 조건식 목록을 불러오려면 `src/kiwoom_client.py` 의 `list_conditions()` 에서 TODO 블록을 실제 API
    호출 코드로 교체하면 됩니다.
- **전략 적용 / 테스트 실행 / 자동 매수**: 입력한 손절/익절/트레일링/시간제한/모의 예수금/최대 보유 종목 수를 전략에 반영 후, 1회 테스트 실행 혹은 자동 매수 시작/종료를 제어합니다.
- **장 종료 청산 옵션**: 15:20(기본) 지정 시각에 보유 종목 전량 매도 후 자동 매매를 중지하는 체크박스를 제공합니다.
- **모의/실거래 표시 분리**: 모의 잔고(예수금/평가/손익)를 실시간으로 보고, 실거래 모드에서는 잔고 새로고침 버튼으로 실계좌 예수금을 표시합니다.
  - 실계좌 예수금 조회 로직은 `src/kiwoom_client.py` 의 `get_real_balance()` / `_fetch_balance_from_kiwoom_api()` 에 위치합니다. 키움 REST
    응답 파싱만 채워 넣으면 바로 연동할 수 있도록 구조가 분리돼 있습니다.

**Troubleshooting**

- `SyntaxError: from __future__ import annotations` 가 보인다면 예전 버전의 코드를 실행하고 있을 가능성이 높습니다. 저장소를 최신 커밋으로 업데이트한 뒤 다시 실행해 주세요.
- Python 3.8 이상을 사용하는지 확인하세요. GUI는 3.8 미만에서는 시작 시 종료 메시지를 출력하고 종료합니다.

PyQt5가 설치되어 있지 않으면 프로그램이 종료되며 설치 방법을 안내하는 메시지를 출력합니다.
